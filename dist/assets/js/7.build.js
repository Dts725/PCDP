webpackJsonp([7],{387:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(422),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);var s=n(460),r=!1;var l,c=function(e){r||n(459)},d=n(143)(o.a,s.a,!1,c,null,null);d.options.__file="src\\components\\tabbarcontainers\\topieces\\ToPieces.vue",(l=n(96)).install(n(47),!1),l.compatible&&(e.hot.accept(),e.hot.data?l.reload("data-v-6b1c82a0",d.options):l.createRecord("data-v-6b1c82a0",d.options),e.hot.dispose(function(e){r=!0})),t.default=d.exports},402:function(e,t,n){(e.exports=n(141)(!1)).push([e.i,'\ninput[type="search"] {\r\n  margin-bottom: 0;\r\n  font-size: 16px;\r\n  -webkit-box-sizing: border-box;\r\n  box-sizing: border-box;\r\n  height: 34px;\r\n  text-align: center;\r\n  border: 0;\r\n  border-radius: 6px;\r\n  background-color: rgba(130, 201, 0, 0);\n}\n.mint-search {\r\n  height: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\n}\n.query {\r\n  margin: 0 auto;\r\n  margin-top: 15px;\r\n  width: 80%;\n}\n.mint-searchbar-inner {\r\n  height: 36px;\r\n  /* background-color: red; */\n}\n.query-button.mint-button--default {\r\n  font-weight: 700;\r\n  margin: 0 auto;\r\n  margin-top: 1em;\r\n  background-color: #d9d9d912;\r\n  width: 80%;\r\n  font-size: 95%;\r\n  height: 2.2em;\r\n  border-radius: 3px;\r\n  text-align: center;\r\n  color: #8c7d76;\r\n  box-shadow: 0px 0px 2px 1px #898d9242;\n}\n.mint-button::after {\r\n  background-color: #f6f0f0;\r\n  content: " ";\r\n  opacity: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  position: absolute;\n}\nbutton:enabled:active {\r\n  color: #4a4747;\r\n  background-color: #bfbfbf21;\n}\nul {\r\n  list-style: none;\n}\n.data-list {\r\n  margin-top: 1em;\n}\n.data-list li > ul {\r\n  /* position: relative; */\r\n  /* z-index: 999; */\r\n  padding: 0 0.1em;\r\n  /* background-color: green; */\r\n  border-bottom: 1px solid #ddd;\r\n  border-top: 1px solid #ddd;\r\n  letter-spacing: 0.1em;\r\n  font-weight: 500;\r\n  font-size: 70%;\r\n  margin-top: 0.3em;\r\n  /* height: 2.5em; */\r\n  line-height: 3em;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  flex: 1;\n}\n.data-list li > ul > li:nth-of-type(3) {\r\n  border: 1px solid #387ef5;\r\n  border-radius: 3px;\r\n  padding: 0 0.5em;\r\n  /* background-color: rgb(221, 101, 21); */\r\n  line-height: 2em;\r\n  height: 2em;\r\n  align-self: center;\r\n  /* width: 18%; */\n}\n.data-list li > ul > li:nth-of-type(2) {\r\n  /* background-color: red; */\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  width: 28%;\n}\n.data-list li > ul > li:nth-of-type(1) {\r\n  /* background-color: red; */\r\n  /* overflow: hidden;\r\n    text-overflow:ellipsis;\r\n    white-space: nowrap; */\r\n  width: 46%;\n}\n.mint-search-list {\r\n  overflow: auto;\r\n  padding-top: 0;\n}\n.mint-msgbox {\r\n  width: 75%;\r\n  font-size: 90%;\n}\n#scan-topieces {\r\n  /* background: red; */\r\n  width: 36px;\r\n  height: 36px;\r\n  position: absolute;\r\n  margin: -44px 0px 0px 13px;\r\n  /* transform: translate(13px,-44px); */\r\n  z-index: 2;\n}\n.top-pieces {\r\n\tmargin-top: 40px;\n}\n.mintui-search:before{\r\n\tline-height: 31px;\n}\r\n\r\n',""])},422:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(144),o=a(n(97));a(n(98));function a(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{flagTopieces:1,value:"",dataList:[],dataPiecesValueList:[],accessToken:o.default.getCache("accessToken"),cooperateCode:o.default.getCache("cooperateCode"),mobileUserName:o.default.getCache("mobileUserName"),roleAuth:o.default.getCache("roleAuth")}},mounted:function(){this.createdToPieces()},beforeDestroy:function(){this.beforeDestroyTopieces()},methods:{scanTopeieces:function(){var e=this;window.NativeConn.NativeScanBar(function(e){t(e)});var t=function(t){if(-1!=e.dataPiecesValueList.indexOf(t))return(0,i.Toast)({message:"请勿重复输入该订单!",position:"middle",duration:1e3}),void(e.value=null);var n={searchWayBillNo:parseInt(t),accessToken:e.accessToken,cooperateCode:e.cooperateCode,mobileUserName:e.mobileUserName,roleAuth:e.roleAuth};n=JSON.stringify(n),o.default.sign(n,o.default.LoginUrl+"pcpmobile/searchWayBill.action").then(function(t){200==t.status&&(1==t.data.success?(e.dataList.unshift(t.data.wayBillInfo),e.dataPiecesValueList.unshift(t.data.searchWayBillNo),e.value=null):((0,i.Toast)({message:t.data.message,position:"middle",duration:1e3}),e.value=null))}).catch(function(t){(0,i.Toast)({message:"查询运单信息失败请重试 !",position:"middle",duration:1200}),e.value=null,console.log(t)})}},toPieces:function(e,t,n){var a=this;i.MessageBox.confirm("确定执行到件操作?").then(function(s){var r={accessToken:a.accessToken,cooperateCode:a.cooperateCode,mobileUserName:a.mobileUserName,roleAuth:a.roleAuth,operationRequest:{operationId:e,operationStatus:"300",operationWayBillNo:t}};r=JSON.stringify(r),o.default.sign(r,o.default.LoginUrl+"pcpmobile/arriveWayBill.action").then(function(e){200==e.status&&1==e.data.success&&(a.dataList.splice(n,1),a.dataPiecesValueList.splice(n,1),a.flagTopieces=0,a.$store.commit("signNumberCommit",a.$store.state.tips.signNumber+1),(0,i.Toast)({message:"操作成功",iconClass:"icon icon-success",position:"middle",duration:500}))}).catch(function(e){(0,i.Toast)({message:"到件操作失败,请重试 !",position:"middle",duration:1200}),a.value=null,console.log(e)})})},openToast:function(){var e=this;if(""!=this.value){if(-1!=this.dataPiecesValueList.indexOf(this.value))return(0,i.Toast)({message:"请勿重复输入该订单!",position:"middle",duration:1e3}),void(this.value=null);var t={searchWayBillNo:parseInt(this.value),accessToken:this.accessToken,cooperateCode:this.cooperateCode,mobileUserName:this.mobileUserName,roleAuth:this.roleAuth};t=JSON.stringify(t),o.default.sign(t,o.default.LoginUrl+"pcpmobile/searchWayBill.action").then(function(t){200==t.status&&(1==t.data.success?(e.dataList.unshift(t.data.wayBillInfo),e.dataPiecesValueList.unshift(t.data.searchWayBillNo),e.value=null):(e.value=null,(0,i.Toast)({message:t.data.message,position:"middle",duration:1e3})))}).catch(function(t){(0,i.Toast)({message:"查询运单信息失败请重试 !",position:"middle",duration:1200}),e.value=null,console.log(t)})}else(0,i.Toast)({message:"请输入运单号查询!",position:"middle",duration:1e3})},createdToPieces:function(){var e={accessToken:this.accessToken,mobileUserName:this.mobileUserName,cooperateCode:this.cooperateCode};JSON.stringify(e),o.default.tipNumber(e,o.default.LoginUrl+"pcpmobile/queryTotalCount.action",this),this.$store.state.toPieces.dataListToPieces&&(this.dataList=this.$store.state.toPieces.dataListToPieces),this.$store.state.toPieces.dataPiecesValueList&&(this.dataPiecesValueList=this.$store.state.toPieces.dataPiecesValueList),this.$store.dispatch("flagTopiecesActions",1)},beforeDestroyTopieces:function(){try{this.$store.dispatch("dataListToPiecesActions",this.dataList),this.$store.dispatch("dataPiecesValueListActions",this.dataPiecesValueList),this.$store.dispatch("flagTopiecesActions",this.flagTopieces)}catch(e){console.log(e)}}}}},459:function(e,t,n){var i=n(402);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=n(142)("b1b1b880",i,!1,{});i.locals||e.hot.accept(402,function(){var t=n(402);"string"==typeof t&&(t=[[e.i,t,""]]),o(t)}),e.hot.dispose(function(){o()})},460:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-pieces"},[n("div",[n("mt-search",{attrs:{"cancel-text":"取消",placeholder:"请输入运单号"},model:{value:e.value,callback:function(t){e.value="string"==typeof t?t.trim():t},expression:"value"}}),e._v(" "),n("div",{attrs:{id:"scan-topieces"},on:{click:e.scanTopeieces}})],1),e._v(" "),n("div",{staticClass:"query"},[n("mt-button",{staticClass:"query-button",attrs:{size:"large"},on:{click:function(t){e.openToast()}}},[e._v("查询运单")])],1),e._v(" "),n("div",[n("ul",{staticClass:"data-list"},e._l(e.dataList,function(t,i){return n("li",{key:t.index},[n("ul",[n("li",{},[e._v("运单号 : "+e._s(t.wayBillNo))]),e._v(" "),n("li",{},[e._v("签收人 : "+e._s(t.recipients))]),e._v(" "),n("li",{on:{click:function(n){e.toPieces(t.id,t.wayBillNo,i)}}},[e._v("到件")])])])}))])])};i._withStripped=!0;var o={render:i,staticRenderFns:[]};t.a=o,e.hot.accept(),e.hot.data&&n(96).rerender("data-v-6b1c82a0",o)}});