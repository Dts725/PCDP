webpackJsonp([6],{421:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(450),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);var s=n(465),r=!1;var c,l=function(e){r||n(464)},d=n(70)(a.a,s.a,!1,l,null,null);d.options.__file="src\\components\\tabbarcontainers\\topieces\\ToPieces.vue",(c=n(45)).install(n(32),!1),c.compatible&&(e.hot.accept(),e.hot.data?c.reload("data-v-6b1c82a0",d.options):c.createRecord("data-v-6b1c82a0",d.options),e.hot.dispose(function(e){r=!0})),t.default=d.exports},434:function(e,t,n){(e.exports=n(68)(!1)).push([e.i,'\ninput[type="search"] {\r\n  margin-bottom: 0;\r\n  font-size: 16px;\r\n  -webkit-box-sizing: border-box;\r\n  box-sizing: border-box;\r\n  height: 34px;\r\n  text-align: center;\r\n  border: 0;\r\n  border-radius: 6px;\r\n  background-color: rgba(130, 201, 0, 0);\n}\n.mint-search {\r\n  height: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\n}\n.query {\r\n  margin: 0 auto;\r\n  margin-top: 15px;\r\n  width: 80%;\n}\n.mint-searchbar-inner {\r\n  height: 36px;\r\n  /* background-color: red; */\n}\n.query-button.mint-button--default {\r\n  font-weight: 700;\r\n  margin: 0 auto;\r\n  margin-top: 1em;\r\n  background-color: #d9d9d912;\r\n  width: 80%;\r\n  font-size: 95%;\r\n  height: 2.2em;\r\n  border-radius: 3px;\r\n  text-align: center;\r\n  color: #8c7d76;\r\n  box-shadow: 0px 0px 2px 1px #898d9242;\n}\n.mint-button::after {\r\n  background-color: #f6f0f0;\r\n  content: " ";\r\n  opacity: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  position: absolute;\n}\nbutton:enabled:active {\r\n  color: #4a4747;\r\n  background-color: #bfbfbf21;\n}\nul {\r\n  list-style: none;\n}\n.warp-topieces {\r\n\t position: fixed;\r\n\ttop: 40px;\r\n\tleft: 0;\r\n\twidth: 100%; \r\n\tz-index: 555;\r\n\t/* margin-top: 140px; */\r\n\theight: 140px;\r\n\tbackground-color: #fff;\n}\n.data-list {\r\n\t/* overflow: auto; */\r\n-webkit-overflow-scrolling: touch;\r\n  margin-top: 10px;\n}\n.data-list li {\r\n\tletter-spacing: 0;\r\n\t/* border-radius: 5px; */\r\n\tfont-size: 14px;\r\n\theight: 51px;\r\n\tbox-sizing: border-box;\r\n\tpadding: 10px 5px;\r\n\tborder: 1px solid #ccc;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tmargin-bottom: 5px;\n}\n.data-list li > span {\n}\n.data-list li >span:nth-of-type(2) {\r\n\tpadding: 1px 10px;\r\n\tfont-size: 12px;\r\n\tborder: 1px solid #26a2ff;\r\n\ttext-align: center;\r\n\tflex: none;\n}\n.data-list li > span:nth-of-type(1) {\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\n}\n.mint-search-list {\r\n  overflow: auto;\r\n  padding-top: 0;\n}\n.mint-msgbox {\r\n  width: 75%;\r\n  font-size: 90%;\n}\n#scan-topieces {\r\n  /* background: red; */\r\n  width: 36px;\r\n  height: 36px;\r\n  position: absolute;\r\n  margin: -44px 0px 0px 13px;\r\n  /* transform: translate(13px,-44px); */\r\n  z-index: 2;\n}\n.top-pieces {\r\n\toverflow: hidden;\r\n\tmargin-top: 40px;\n}\n.mintui-search:before{\r\n\tline-height: 31px;\n}\n.data-list-warp {\r\n\tmargin-top: 140px;\r\n\tmargin-bottom: 50px;\r\n\toverflow: hidden;\n}\r\n',""])},450:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(106),a=o(n(71));o(n(72));function o(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{isDisabled:!1,flagTopieces:1,value:"",dataList:[],dataPiecesValueList:[],accessToken:a.default.getCache("accessToken"),cooperateCode:a.default.getCache("cooperateCode"),mobileUserName:a.default.getCache("mobileUserName"),roleAuth:a.default.getCache("roleAuth")}},mounted:function(){this.createdToPieces()},beforeDestroy:function(){this.beforeDestroyTopieces()},methods:{scanTopeieces:function(){var e=this;window.NativeConn.NativeScanBar(function(e){t(e)});var t=function(t){if(console.log(t),-1!=e.dataPiecesValueList.indexOf(t))return(0,i.Toast)({message:"请勿重复输入该订单!",position:"middle",duration:1e3}),void(e.value=null);var n={searchWayBillNo:parseInt(t),accessToken:e.accessToken,cooperateCode:e.cooperateCode,mobileUserName:e.mobileUserName,roleAuth:e.roleAuth};n=JSON.stringify(n),a.default.sign(n,a.default.LoginUrl+"pcpmobile/searchWayBill.action").then(function(t){if(200==t.status)if(1==t.data.success){var n=t.data.wayBillInfo;console.log(n),e.dataList.push(n),console.log(e.dataList),e.dataPiecesValueList.unshift(t.data.searchWayBillNo),console.log(e.dataPiecesValueList),e.value=null}else(0,i.Toast)({message:t.data.message,position:"middle",duration:1e3}),e.value=null}).catch(function(t){(0,i.Toast)({message:"查询运单信息失败请重试 !",position:"middle",duration:1200}),e.value=null,console.log(t)})}},toPieces:function(e,t,n){var o=this;i.MessageBox.confirm("确定执行到件操作?").then(function(s){var r={accessToken:o.accessToken,cooperateCode:o.cooperateCode,mobileUserName:o.mobileUserName,roleAuth:o.roleAuth,operationRequest:{operationId:e,operationStatus:"300",operationWayBillNo:t}};r=JSON.stringify(r),a.default.sign(r,a.default.LoginUrl+"pcpmobile/arriveWayBill.action").then(function(e){200==e.status&&1==e.data.success&&(o.dataList.splice(n,1),o.dataPiecesValueList.splice(n,1),o.flagTopieces=0,o.$store.commit("signNumberCommit",o.$store.state.tips.signNumber+1),(0,i.Toast)({message:"操作成功",iconClass:"icon icon-success",position:"middle",duration:500}))}).catch(function(e){(0,i.Toast)({message:"到件操作失败,请重试 !",position:"middle",duration:1200}),o.value=null,console.log(e)})})},openToast:function(){var e=this;if(""!=this.value){if(-1!=this.dataPiecesValueList.indexOf(this.value))return(0,i.Toast)({message:"请勿重复输入该订单!",position:"middle",duration:1e3}),void(this.value=null);this.isDisabled=!0;var t={searchWayBillNo:parseInt(this.value),accessToken:this.accessToken,cooperateCode:this.cooperateCode,mobileUserName:this.mobileUserName,roleAuth:this.roleAuth};t=JSON.stringify(t),a.default.sign(t,a.default.LoginUrl+"pcpmobile/searchWayBill.action").then(function(t){200==t.status&&(1==t.data.success?(e.dataList.unshift(t.data.wayBillInfo),e.dataPiecesValueList.unshift(t.data.searchWayBillNo),e.value=null,e.isDisabled=!1):(e.value=null,(0,i.Toast)({message:t.data.message,position:"middle",duration:1e3}),e.isDisabled=!1))}).catch(function(t){e.isDisabled=!1,(0,i.Toast)({message:"查询运单信息失败请重试 !",position:"middle",duration:1200}),e.value=null,console.log(t)})}else(0,i.Toast)({message:"请输入运单号查询!",position:"middle",duration:1e3})},createdToPieces:function(){var e={accessToken:this.accessToken,mobileUserName:this.mobileUserName,cooperateCode:this.cooperateCode};JSON.stringify(e),a.default.tipNumber(e,a.default.LoginUrl+"pcpmobile/queryTotalCount.action",this),this.$store.state.toPieces.dataListToPieces&&(this.dataList=this.$store.state.toPieces.dataListToPieces),this.$store.state.toPieces.dataPiecesValueList&&(this.dataPiecesValueList=this.$store.state.toPieces.dataPiecesValueList),this.$store.dispatch("flagTopiecesActions",1)},beforeDestroyTopieces:function(){try{this.$store.dispatch("dataListToPiecesActions",this.dataList),this.$store.dispatch("dataPiecesValueListActions",this.dataPiecesValueList),this.$store.dispatch("flagTopiecesActions",this.flagTopieces)}catch(e){console.log(e)}}}}},464:function(e,t,n){var i=n(434);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n(69)("b1b1b880",i,!1,{});i.locals||e.hot.accept(434,function(){var t=n(434);"string"==typeof t&&(t=[[e.i,t,""]]),a(t)}),e.hot.dispose(function(){a()})},465:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-pieces"},[n("div",{staticClass:"warp-topieces"},[n("div",[n("mt-search",{attrs:{"cancel-text":"取消",placeholder:"请输入运单号"},model:{value:e.value,callback:function(t){e.value="string"==typeof t?t.trim():t},expression:"value"}}),e._v(" "),n("div",{attrs:{id:"scan-topieces"},on:{click:e.scanTopeieces}})],1),e._v(" "),n("div",{staticClass:"query"},[n("mt-button",{staticClass:"query-button",attrs:{disabled:e.isDisabled,size:"large"},on:{click:function(t){e.openToast()}}},[e._v("查询运单")])],1)]),e._v(" "),n("div",{staticClass:"data-list-warp"},[n("ul",{staticClass:"data-list"},e._l(e.dataList,function(t,i){return n("li",{key:t.topiexesId},[n("span",[e._v("运单号 : "+e._s(t.wayBillNo)+"    签收人 : "+e._s(t.recipients))]),e._v(" "),n("span",{on:{click:function(n){e.toPieces(t.id,t.wayBillNo,i)}}},[e._v("到件")])])}))])])};i._withStripped=!0;var a={render:i,staticRenderFns:[]};t.a=a,e.hot.accept(),e.hot.data&&n(45).rerender("data-v-6b1c82a0",a)}});